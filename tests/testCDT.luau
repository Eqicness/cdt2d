local CDT = require("../CDT2D")
local Utility = require("../CDT2D/Utility")

local Point = Utility.Point

local points = {
	Point(-2, -2),
	Point(-2, 2),
	Point(2, 2),
	Point(2, -2),
	Point(1, 0),
	Point(0, 1),
	Point(-1, 0),
	Point(0, -1),
}
points = {
	Point { -7.380551338195801, -28.57474708557129 },
	Point { -8.853992462158203, -24.464046478271484 },
	Point { -10.9236478805542, -20.618864059448242 },
	Point { -13.543277740478516, -17.125097274780273 },
	Point { -16.654373168945312, -14.060791969299316 },
	Point { -20.18743133544922, -11.494392395019531 },
	Point { -24.06352424621582, -9.483233451843262 },
	Point { -28.196075439453125, -8.072236061096191 },
	Point { 28.130823135375977, 7.478815078735352 },
	Point { 23.998271942138672, 8.889812469482422 },
	Point { 20.122188568115234, 10.900968551635742 },
	Point { 16.589128494262695, 13.467365264892578 },
	Point { 13.47804069519043, 16.531675338745117 },
	Point { 10.858404159545898, 20.02544403076172 },
	Point { 8.788752555847168, 23.870616912841797 },
	Point { 7.315301895141602, 27.981311798095703 },
	Point { 49.73931121826172, -16.904958724975586 },
	Point { 48.9619026184082, -13.080194473266602 },
	Point { 47.681617736816406, -9.393178939819336 },
	Point { 45.92133331298828, -5.909702301025391 },
	Point { 43.71245574951172, -2.691924571990967 },
	Point { 41.09440994262695, 0.2027273178100586 },
	Point { 38.11389923095703, 2.7225911617279053 },
	Point { 34.82410430908203, 4.822707176208496 },
	Point { 31.283748626708984, 6.465613842010498 },
	Point { -6.817584991455078, -30.38315200805664 },
	Point { -5.293908596038818, -33.97642517089844 },
	Point { -3.304886817932129, -37.334556579589844 },
	Point { -0.8860200643539429, -40.39760208129883 },
	Point { 1.9195318222045898, -43.11091995239258 },
	Point { 5.061697959899902, -45.42608642578125 },
	Point { 8.484411239624023, -47.301780700683594 },
	Point { 12.126588821411133, -48.70454406738281 },
	Point { 15.923237800598145, -49.60932922363281 },
	Point { 19.806612014770508, -50 },
	Point { 23.707406997680664, -49.86958312988281 },
	Point { 27.556015014648438, -49.22040557861328 },
	Point { 31.283748626708984, -48.064048767089844 },
	Point { 34.82410430908203, -46.4211540222168 },
	Point { 38.11389923095703, -44.32102584838867 },
	Point { 41.09440994262695, -41.80116271972656 },
	Point { 43.71245574951172, -38.90651321411133 },
	Point { 45.92133331298828, -35.68873596191406 },
	Point { 47.681617736816406, -32.20526123046875 },
	Point { 48.9619026184082, -28.51824378967285 },
	Point { 49.73931121826172, -24.693479537963867 },
	Point { 50, -20.799219131469727 },
	Point { 6.050574779510498, 31.611841201782227 },
	Point { 4.290288925170898, 35.09531021118164 },
	Point { 2.0814120769500732, 38.31308364868164 },
	Point { -0.5366414785385132, 41.20773696899414 },
	Point { -3.517153739929199, 43.72760009765625 },
	Point { -6.80694580078125, 45.827728271484375 },
	Point { -10.347294807434082, 47.47062301635742 },
	Point { -14.075035095214844, 48.62697219848633 },
	Point { -17.92364501953125, 49.276153564453125 },
	Point { -21.824438095092773, 49.40657043457031 },
	Point { -25.70781135559082, 49.01590347290039 },
	Point { -29.504459381103516, 48.11111831665039 },
	Point { -33.14664077758789, 46.708351135253906 },
	Point { -36.56935119628906, 44.832664489746094 },
	Point { -39.71152114868164, 42.51749038696289 },
	Point { -42.51707077026367, 39.80416488647461 },
	Point { -44.935935974121094, 36.741119384765625 },
	Point { -46.924957275390625, 33.382999420166016 },
	Point { -48.448638916015625, 29.789722442626953 },
	Point { -49.47978210449219, 26.025432586669922 },
	Point { -50, 22.15728187561035 },
	Point { -50, 18.254310607910156 },
	Point { -49.47978210449219, 14.38615894317627 },
	Point { -48.448638916015625, 10.621857643127441 },
	Point { -46.924957275390625, 7.028585433959961 },
	Point { -44.935935974121094, 3.6704540252685547 },
	Point { -42.51707077026367, 0.6074070930480957 },
	Point { -39.71152114868164, -2.105912685394287 },
	Point { -36.56935119628906, -4.421072959899902 },
	Point { -33.14664077758789, -6.296774864196777 },
	Point { -29.504459381103516, -7.699531555175781 },
}

local edges = {
	--Outer loop
	{ 1, 2 },
	{ 2, 3 },
	{ 3, 4 },
	{ 4, 1 },

	--Inner loop
	{ 5, 6 },
	{ 6, 7 },
	{ 7, 8 },
	{ 8, 5 },
}
edges = {
	{ 1, 2 },
	{ 2, 3 },
	{ 3, 4 },
	{ 4, 5 },
	{ 5, 6 },
	{ 6, 7 },
	{ 7, 8 },
	{ 8, 9 },
	{ 9, 10 },
	{ 10, 11 },
	{ 11, 12 },
	{ 12, 13 },
	{ 13, 14 },
	{ 14, 15 },
	{ 15, 16 },
	{ 16, 17 },
	{ 17, 18 },
	{ 18, 19 },
	{ 19, 20 },
	{ 20, 21 },
	{ 21, 22 },
	{ 22, 23 },
	{ 23, 24 },
	{ 24, 25 },
	{ 25, 26 },
	{ 26, 27 },
	{ 27, 28 },
	{ 28, 29 },
	{ 29, 30 },
	{ 30, 31 },
	{ 31, 32 },
	{ 32, 33 },
	{ 33, 34 },
	{ 34, 35 },
	{ 35, 36 },
	{ 36, 37 },
	{ 37, 38 },
	{ 38, 39 },
	{ 39, 40 },
	{ 40, 41 },
	{ 41, 42 },
	{ 42, 43 },
	{ 43, 44 },
	{ 44, 45 },
	{ 45, 46 },
	{ 46, 47 },
	{ 47, 48 },
	{ 48, 49 },
	{ 49, 50 },
	{ 50, 51 },
	{ 51, 52 },
	{ 52, 53 },
	{ 53, 54 },
	{ 54, 55 },
	{ 55, 56 },
	{ 56, 57 },
	{ 57, 58 },
	{ 58, 59 },
	{ 59, 60 },
	{ 60, 61 },
	{ 61, 62 },
	{ 62, 63 },
	{ 63, 64 },
	{ 64, 65 },
	{ 65, 66 },
	{ 66, 67 },
	{ 67, 68 },
	{ 68, 69 },
	{ 69, 70 },
	{ 70, 71 },
	{ 71, 72 },
	{ 72, 73 },
	{ 73, 74 },
	{ 74, 75 },
	{ 75, 76 },
	{ 76, 77 },
	{ 77, 78 },
	{ 78, 1 },
}

local result = CDT.triangulate(points, edges, {
	delaunay = true,
	exterior = false,
	interior = true,
	infinity = false,
})

print(result)
